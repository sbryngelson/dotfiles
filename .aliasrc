alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias .....='cd ../../../..'
alias grep='grep --color=auto'

bind '"\C-r": "\C-x1\e^\er"'
bind -x '"\C-x1": __fzf_history';

__fzf_history ()
{
__ehc $(history | fzf --tac --tiebreak=index | perl -ne 'm/^\s*([0-9]+)/ and print "!$1"')
}

__ehc()
{
if
        [[ -n $1 ]]
then
        bind '"\er": redraw-current-line'
        bind '"\e^": magic-space'
        READLINE_LINE=${READLINE_LINE:+${READLINE_LINE:0:READLINE_POINT}}${1}${READLINE_LINE:+${READLINE_LINE:READLINE_POINT}}
        READLINE_POINT=$(( READLINE_POINT + ${#1} ))
else
        bind '"\er":'
        bind '"\e^":'
fi
}

# Search a file with fzf inside a Tmux pane and then open it in an editor
fzfo () {
  local file=$(fzf)
  if [ -n "$file" ]; then
    if [ ${file: -4} == ".tex" ] || [ ${file: -4} == ".txt" ] || [ ${file: -3} == ".sh" ] || [ ${file: -4} == ".f90" ] || [ ${file: -4} == ".F90" ] || [ ${file: -3} == ".py" ]; then
        vim "$file" 
    else
        open "$file"
    fi
  fi
}

# Install (one or multiple) selected application(s)
# using "brew search" as source input
# mnemonic [B]rew [I]nstall [P]lugin
bip() {
  local inst=$(brew search | fzf -m)

  if [[ $inst ]]; then
    for prog in $(echo $inst);
    do
        brew install $prog
    done
  fi
}

animate2d () {
local arg="w l"
while [ $# -gt 1 ]
        do #str="$str '$2' $arg,"
           files="$files $2"
        shift
done
local counter=1
local newfiles=$files
while [ $counter -le $its ]
    do
        newfiles="$newfiles $files"
        ((counter++))
done
local plt="filelist= '$newfiles'
do for [filename in filelist] { plot filename with image; pause 0.5 }
"
echo "$str $plt" | gnuplot -persist
}



alias tec360='/Applications/Tecplot\ 360\ EX\ 2018\ R1/Tecplot\ 360\ EX\ 2018\ R1.app/Contents/MacOS/Tecplot\ 360\ EX\ 2018\ R1'
alias paraview='/Applications/ParaView-5.4.1.app/Contents/MacOS/paraview'

alias clear="clear && printf '\e[3J'"

#Servers
alias legolas='ssh -Y bryngel2@legolas2.mechse.illinois.edu'
alias taub='ssh -Y bryngel2@taub.campuscluster.illinois.edu'
alias xpacc1='ssh -Y bryngel2@xpacc-serv-01.csl.illinois.edu'
alias xpacc2='ssh -Y bryngel2@xpacc-serv-02.csl.illinois.edu'
alias xpacc3='ssh -Y bryngel2@xpacc-serv-03.csl.illinois.edu'
alias golub='ssh -Y bryngel2@golub.campuscluster.illinois.edu'
alias richardson='ssh -Y spencer@richardson.caltech.edu'
alias comet='ssh -Y bryngel@comet.sdsc.xsede.org'
alias bridges='ssh -Y bryngel@bridges.psc.xsede.org -p 2222'
alias xsede='ssh -l bryngel login.xsede.org'

GOLUB="bryngel2@golub.campuscluster.illinois.edu"
XPACC="bryngel2@xpacc-serv-01.csl.illinois.edu"
LEGOLAS="bryngel2@legolas2.mechse.illinois.edu"
RICHARDSON="spencer@richardson.caltech.edu"
COMET='bryngel@comet.sdsc.xsede.org'
BRIDGES='bryngel@bridges.psc.edu'

export GOLUB
export XPACC
export LEGOLAS
export RICHARDSON
export COMET
export BRIDGES

alias dotpush="cd ~/ && git add ~/.bash_profile ~/.aliasrc ~/.inputrc ~/.gnuplotrc ~/.vimrc ~/.vim/colors/SHB.vim && git commit -m 'update to dotfiles' && git push -u origin master"

alias dotpull="cd ~/ && git clone https://github.com/sbryngelson/dotfiles.git && mv -f ~/dotfiles/.*rc ./ && mv -f ~/dotfiles/.bash_profile ./ && rm -rf dotfiles .git & source ~/.bash_profile"

alias vundle="git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim"
